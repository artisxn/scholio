!function(t){function e(n){if(s[n])return s[n].exports;var i=s[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var s={};e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){"use strict";t.exports=s(1)},function(t,e,s){"use strict";var n=s(2);s(3).element=n.element;var i=s(4);i.isArray=n.isArray,i.isFunction=n.isFunction,i.isObject=n.isObject,i.bind=n.element.proxy,i.each=n.forEach,i.map=n.element.map,i.mixin=n.extend,i.Event=n.element.Event;var r=s(5),o=s(6);n.module("algolia.autocomplete",[]).directive("autocomplete",["$parse","$injector",function(t,e){try{e.get("algolia").sources=o.sources,e.get("algolia").escapeHighlightedString=i.escapeHighlightedString}catch(t){}return{restrict:"AC",scope:{options:"&aaOptions",datasets:"&aaDatasets"},link:function(e,s,i){function a(){c&&c.destroy(),c=new o({input:s,dropdownMenuContainer:e.options.dropdownMenuContainer,eventBus:u,hint:e.options.hint,minLength:e.options.minLength,autoselect:e.options.autoselect,autoselectOnBlur:e.options.autoselectOnBlur,openOnFocus:e.options.openOnFocus,templates:e.options.templates,debug:e.options.debug,cssClasses:e.options.cssClasses,datasets:e.datasets,keyboardShortcuts:e.options.keyboardShortcuts,appendTo:e.options.appendTo,autoWidth:e.options.autoWidth})}if(s.hasClass("autocomplete")||""===i.autocomplete){i=i,e.options=t(e.options)(e),e.options||(e.options={}),e.datasets=t(e.datasets)(e),e.datasets&&!n.isArray(e.datasets)&&(e.datasets=[e.datasets]);var u=new r({el:s}),c=null;e.$watch("options",a),n.isArray(e.datasets)?e.$watchCollection("datasets",a):e.$watch("datasets",a),s.bind("autocomplete:selected",function(t,s,n){e.$emit("autocomplete:selected",s,n)}),s.bind("autocomplete:autocompleted",function(t,s,n){e.$emit("autocomplete:autocompleted",s,n)}),s.bind("autocomplete:opened",function(){e.$emit("autocomplete:opened")}),s.bind("autocomplete:closed",function(){e.$emit("autocomplete:closed")}),s.bind("autocomplete:cursorchanged",function(t,s,n){e.$emit("autocomplete:cursorchanged",t,s,n)})}}}}])},function(t,e){t.exports=angular},function(t,e){"use strict";t.exports={element:null}},function(t,e,s){"use strict";function n(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var i,r=s(3);t.exports={isArray:null,isFunction:null,isObject:null,bind:null,each:null,map:null,mixin:null,isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isNumber:function(t){return"number"==typeof t},toStr:function(t){return null==t?"":t+""},cloneDeep:function(t){var e=this.mixin({},t),s=this;return this.each(e,function(t,n){t&&(s.isArray(t)?e[n]=[].concat(t):s.isObject(t)&&(e[n]=s.cloneDeep(t)))}),e},error:function(t){throw new Error(t)},every:function(t,e){var s=!0;return t?(this.each(t,function(n,i){if(!(s=e.call(null,n,i,t)))return!1}),!!s):s},any:function(t,e){var s=!1;return t?(this.each(t,function(n,i){if(e.call(null,n,i,t))return s=!0,!1}),s):s},getUniqueId:(i=0,function(){return i++}),templatify:function(t){if(this.isFunction(t))return t;var e=r.element(t);return"SCRIPT"===e.prop("tagName")?function(){return e.text()}:function(){return String(t)}},defer:function(t){setTimeout(t,0)},noop:function(){},formatPrefix:function(t,e){return e?"":t+"-"},className:function(t,e,s){return(s?"":".")+t+e},escapeHighlightedString:function(t,e,s){e=e||"<em>";var i=document.createElement("div");i.appendChild(document.createTextNode(e)),s=s||"</em>";var r=document.createElement("div");r.appendChild(document.createTextNode(s));var o=document.createElement("div");return o.appendChild(document.createTextNode(t)),o.innerHTML.replace(RegExp(n(i.innerHTML),"g"),e).replace(RegExp(n(r.innerHTML),"g"),s)}}},function(t,e,s){"use strict";function n(t){t&&t.el||i.error("EventBus initialized without el"),this.$el=r.element(t.el)}var i=s(4),r=s(3);i.mixin(n.prototype,{trigger:function(t){var e=[].slice.call(arguments,1),s=i.Event("autocomplete:"+t);return this.$el.trigger(s,e),s}}),t.exports=n},function(t,e,s){"use strict";function n(t){var e,s;if((t=t||{}).input||r.error("missing input"),this.isActivated=!1,this.debug=!!t.debug,this.autoselect=!!t.autoselect,this.autoselectOnBlur=!!t.autoselectOnBlur,this.openOnFocus=!!t.openOnFocus,this.minLength=r.isNumber(t.minLength)?t.minLength:1,this.autoWidth=void 0===t.autoWidth||!!t.autoWidth,t.hint=!!t.hint,t.hint&&t.appendTo)throw new Error("[autocomplete.js] hint and appendTo options can't be used at the same time");this.css=t.css=r.mixin({},l,t.appendTo?l.appendTo:{}),this.cssClasses=t.cssClasses=r.mixin({},l.defaultClasses,t.cssClasses||{}),this.cssClasses.prefix=t.cssClasses.formattedPrefix=r.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix),this.listboxId=t.listboxId=[this.cssClasses.root,"listbox",r.getUniqueId()].join("-");var u=function(t){var e,s,n,a;e=o.element(t.input),s=o.element(h.wrapper.replace("%ROOT%",t.cssClasses.root)).css(t.css.wrapper),t.appendTo||"block"!==e.css("display")||"table"!==e.parent().css("display")||s.css("display","table-cell");var u=h.dropdown.replace("%PREFIX%",t.cssClasses.prefix).replace("%DROPDOWN_MENU%",t.cssClasses.dropdownMenu);n=o.element(u).css(t.css.dropdown).attr({role:"listbox",id:t.listboxId}),t.templates&&t.templates.dropdownMenu&&n.html(r.templatify(t.templates.dropdownMenu)()),(a=e.clone().css(t.css.hint).css((c=e,{backgroundAttachment:c.css("background-attachment"),backgroundClip:c.css("background-clip"),backgroundColor:c.css("background-color"),backgroundImage:c.css("background-image"),backgroundOrigin:c.css("background-origin"),backgroundPosition:c.css("background-position"),backgroundRepeat:c.css("background-repeat"),backgroundSize:c.css("background-size")}))).val("").addClass(r.className(t.cssClasses.prefix,t.cssClasses.hint,!0)).removeAttr("id name placeholder required").prop("readonly",!0).attr({"aria-hidden":"true",autocomplete:"off",spellcheck:"false",tabindex:-1}),a.removeData&&a.removeData(),e.data(i,{"aria-autocomplete":e.attr("aria-autocomplete"),"aria-expanded":e.attr("aria-expanded"),"aria-owns":e.attr("aria-owns"),autocomplete:e.attr("autocomplete"),dir:e.attr("dir"),role:e.attr("role"),spellcheck:e.attr("spellcheck"),style:e.attr("style"),type:e.attr("type")}),e.addClass(r.className(t.cssClasses.prefix,t.cssClasses.input,!0)).attr({autocomplete:"off",spellcheck:!1,role:"combobox","aria-autocomplete":t.datasets&&t.datasets[0]&&t.datasets[0].displayKey?"both":"list","aria-expanded":"false","aria-label":t.ariaLabel,"aria-owns":t.listboxId}).css(t.hint?t.css.input:t.css.inputWithNoHint);var c;try{e.attr("dir")||e.attr("dir","auto")}catch(t){}return(s=t.appendTo?s.appendTo(o.element(t.appendTo).eq(0)).eq(0):e.wrap(s).parent()).prepend(t.hint?a:null).append(n),{wrapper:s,input:e,hint:a,menu:n}}(t);this.$node=u.wrapper;var c=this.$input=u.input;e=u.menu,s=u.hint,t.dropdownMenuContainer&&o.element(t.dropdownMenuContainer).css("position","relative").append(e.css("top","0")),c.on("blur.aa",function(t){var s=document.activeElement;r.isMsie()&&(e[0]===s||e[0].contains(s))&&(t.preventDefault(),t.stopImmediatePropagation(),r.defer(function(){c.focus()}))}),e.on("mousedown.aa",function(t){t.preventDefault()}),this.eventBus=t.eventBus||new a({el:c}),this.dropdown=new n.Dropdown({appendTo:t.appendTo,wrapper:this.$node,menu:e,datasets:t.datasets,templates:t.templates,cssClasses:t.cssClasses,minLength:this.minLength}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onSync("shown",this._onShown,this).onSync("empty",this._onEmpty,this).onSync("redrawn",this._onRedrawn,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new n.Input({input:c,hint:s}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._bindKeyboardShortcuts(t),this._setLanguageDirection()}var i="aaAttrs",r=s(4),o=s(3),a=s(5),u=s(7),c=s(16),h=s(18),l=s(19);r.mixin(n.prototype,{_bindKeyboardShortcuts:function(t){if(t.keyboardShortcuts){var e=this.$input,s=[];r.each(t.keyboardShortcuts,function(t){"string"==typeof t&&(t=t.toUpperCase().charCodeAt(0)),s.push(t)}),o.element(document).keydown(function(t){var n=t.target||t.srcElement,i=n.tagName;if(!n.isContentEditable&&"INPUT"!==i&&"SELECT"!==i&&"TEXTAREA"!==i){var r=t.which||t.keyCode;-1!==s.indexOf(r)&&(e.focus(),t.stopPropagation(),t.preventDefault())}})}},_onSuggestionClicked:function(t,e){var s;(s=this.dropdown.getDatumForSuggestion(e))&&this._select(s)},_onCursorMoved:function(t,e){var s=this.dropdown.getDatumForCursor(),n=this.dropdown.getCurrentCursor().attr("id");this.input.setActiveDescendant(n),s&&(e&&this.input.setInputValue(s.value,!0),this.eventBus.trigger("cursorchanged",s.raw,s.datasetName))},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint(),this.eventBus.trigger("cursorremoved")},_onDatasetRendered:function(){this._updateHint(),this.eventBus.trigger("updated")},_onOpened:function(){this._updateHint(),this.input.expand(),this.eventBus.trigger("opened")},_onEmpty:function(){this.eventBus.trigger("empty")},_onRedrawn:function(){this.$node.css("top","0px"),this.$node.css("left","0px");var t=this.$input[0].getBoundingClientRect();this.autoWidth&&this.$node.css("width",t.width+"px");var e=this.$node[0].getBoundingClientRect(),s=t.bottom-e.top;this.$node.css("top",s+"px");var n=t.left-e.left;this.$node.css("left",n+"px"),this.eventBus.trigger("redrawn")},_onShown:function(){this.eventBus.trigger("shown"),this.autoselect&&this.dropdown.cursorTopSuggestion()},_onClosed:function(){this.input.clearHint(),this.input.removeActiveDescendant(),this.input.collapse(),this.eventBus.trigger("closed")},_onFocused:function(){if(this.isActivated=!0,this.openOnFocus){var t=this.input.getQuery();t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty(),this.dropdown.open()}},_onBlurred:function(){var t,e;t=this.dropdown.getDatumForCursor(),e=this.dropdown.getDatumForTopSuggestion(),this.debug||(this.autoselectOnBlur&&t?this._select(t):this.autoselectOnBlur&&e?this._select(e):(this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()))},_onEnterKeyed:function(t,e){var s,n;s=this.dropdown.getDatumForCursor(),n=this.dropdown.getDatumForTopSuggestion(),s?(this._select(s),e.preventDefault()):this.autoselect&&n&&(this._select(n),e.preventDefault())},_onTabKeyed:function(t,e){var s;(s=this.dropdown.getDatumForCursor())?(this._select(s),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t=this.input.getLanguageDirection();this.dir!==t&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,e,s,n,i;(t=this.dropdown.getDatumForTopSuggestion())&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(e=this.input.getInputValue(),s=u.normalizeQuery(e),n=r.escapeRegExChars(s),(i=new RegExp("^(?:"+n+")(.+$)","i").exec(t.value))?this.input.setHint(e+i[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,s,n,i;e=this.input.getHint(),s=this.input.getQuery(),n=t||this.input.isCursorAtEnd(),e&&s!==e&&n&&((i=this.dropdown.getDatumForTopSuggestion())&&this.input.setInputValue(i.value),this.eventBus.trigger("autocompleted",i.raw,i.datasetName))},_select:function(t){void 0!==t.value&&this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),!1===this.eventBus.trigger("selected",t.raw,t.datasetName).isDefaultPrevented()&&(this.dropdown.close(),r.defer(r.bind(this.dropdown.empty,this.dropdown)))},open:function(){if(!this.isActivated){var t=this.input.getInputValue();t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty()}this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){t=r.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){var t,e,s;this.input.destroy(),this.dropdown.destroy(),t=this.$node,e=this.cssClasses,s=t.find(r.className(e.prefix,e.input)),r.each(s.data(i),function(t,e){void 0===t?s.removeAttr(e):s.attr(e,t)}),s.detach().removeClass(r.className(e.prefix,e.input,!0)).insertAfter(t),s.removeData&&s.removeData(i),t.remove(),this.$node=null},getWrapper:function(){return this.dropdown.$container[0]}}),n.Dropdown=c,n.Input=u,n.sources=s(20),t.exports=n},function(t,e,s){"use strict";function n(t){var e,s,n,i,u,c=this;(t=t||{}).input||o.error("input is missing"),e=o.bind(this._onBlur,this),s=o.bind(this._onFocus,this),n=o.bind(this._onKeydown,this),i=o.bind(this._onInput,this),this.$hint=a.element(t.hint),this.$input=a.element(t.input).on("blur.aa",e).on("focus.aa",s).on("keydown.aa",n),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=o.noop),o.isMsie()?this.$input.on("keydown.aa keypress.aa cut.aa paste.aa",function(t){r[t.which||t.keyCode]||o.defer(o.bind(c._onInput,c,t))}):this.$input.on("input.aa",i),this.query=this.$input.val(),this.$overflowHelper=(u=this.$input,a.element('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:u.css("font-family"),fontSize:u.css("font-size"),fontStyle:u.css("font-style"),fontVariant:u.css("font-variant"),fontWeight:u.css("font-weight"),wordSpacing:u.css("word-spacing"),letterSpacing:u.css("letter-spacing"),textIndent:u.css("text-indent"),textRendering:u.css("text-rendering"),textTransform:u.css("text-transform")}).insertAfter(u))}function i(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var r;r={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};var o=s(4),a=s(3),u=s(8);n.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},o.mixin(n.prototype,u,{_onBlur:function(){this.resetInputValue(),this.$input.removeAttr("aria-activedescendant"),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=r[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var s,n,r;switch(t){case"tab":n=this.getHint(),r=this.getInputValue(),s=n&&n!==r&&!i(e);break;case"up":case"down":s=!i(e);break;default:s=!1}s&&e.preventDefault()},_shouldTrigger:function(t,e){var s;switch(t){case"tab":s=!i(e);break;default:s=!0}return s},_checkInputValue:function(){var t,e,s,i,r;t=this.getInputValue(),i=t,r=this.query,s=!(!(e=n.normalizeQuery(i)===n.normalizeQuery(r))||!this.query)&&this.query.length!==t.length,this.query=t,e?s&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){void 0===t&&(t=this.query),this.$input.val(t),e?this.clearHint():this._checkInputValue()},expand:function(){this.$input.attr("aria-expanded","true")},collapse:function(){this.$input.attr("aria-expanded","false")},setActiveDescendant:function(t){this.$input.attr("aria-activedescendant",t)},removeActiveDescendant:function(){this.$input.removeAttr("aria-activedescendant")},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,s;s=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),""!==t&&s&&!this.hasOverflow()||this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,e,s;return t=this.$input.val().length,e=this.$input[0].selectionStart,o.isNumber(e)?e===t:!document.selection||((s=document.selection.createRange()).moveStart("character",-t),t===s.text.length)},destroy:function(){this.$hint.off(".aa"),this.$input.off(".aa"),this.$hint=this.$input=this.$overflowHelper=null}}),t.exports=n},function(t,e,s){"use strict";function n(t,e,s,n){var i;if(!s)return this;for(e=e.split(o),s=n?function(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}(s,n):s,this._callbacks=this._callbacks||{};i=e.shift();)this._callbacks[i]=this._callbacks[i]||{sync:[],async:[]},this._callbacks[i][t].push(s);return this}function i(t,e,s){return function(){for(var n,i=0,r=t.length;!n&&i<r;i+=1)n=!1===t[i].apply(e,s);return!n}}var r=s(9),o=/\s+/;t.exports={onSync:function(t,e,s){return n.call(this,"sync",t,e,s)},onAsync:function(t,e,s){return n.call(this,"async",t,e,s)},off:function(t){var e;if(!this._callbacks)return this;for(t=t.split(o);e=t.shift();)delete this._callbacks[e];return this},trigger:function(t){var e,s,n,a,u;if(!this._callbacks)return this;for(t=t.split(o),n=[].slice.call(arguments,1);(e=t.shift())&&(s=this._callbacks[e]);)a=i(s.sync,this,[e].concat(n)),u=i(s.async,this,[e].concat(n)),a()&&r(u);return this}}},function(t,e,s){"use strict";function n(){o&&a&&(o=!1,a.length?l=a.concat(l):h=-1,l.length&&i())}function i(){if(!o){p=!1,o=!0;for(var t=l.length,e=setTimeout(n);t;){for(a=l,l=[];a&&++h<t;)a[h].run();h=-1,t=l.length}a=null,h=-1,o=!1,clearTimeout(e)}}function r(t,e){this.fun=t,this.array=e}for(var o,a,u,c=[s(10),s(12),s(13),s(14),s(15)],h=-1,l=[],p=!1,d=-1,f=c.length;++d<f;)if(c[d]&&c[d].test&&c[d].test()){u=c[d].install(i);break}r.prototype.run=function(){var t=this.fun,e=this.array;switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);default:return t.apply(null,e)}},t.exports=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)e[s-1]=arguments[s];l.push(new r(t,e)),p||o||(p=!0,u())}},function(t,e,s){(function(t){"use strict";e.test=function(){return void 0!==t&&!t.browser},e.install=function(e){return function(){t.nextTick(e)}}}).call(e,s(11))},function(t,e){function s(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===s||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function r(){f&&p&&(f=!1,p.length?d=p.concat(d):m=-1,d.length&&o())}function o(){if(!f){var t=i(r);f=!0;for(var e=d.length;e;){for(p=d,d=[];++m<e;)p&&p[m].run();m=-1,e=d.length}p=null,f=!1,function(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function u(){}var c,h,l=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:s}catch(t){c=s}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var p,d=[],f=!1,m=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)e[s-1]=arguments[s];d.push(new a(t,e)),1!==d.length||f||i(o)},a.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=u,l.addListener=u,l.once=u,l.off=u,l.removeListener=u,l.removeAllListeners=u,l.emit=u,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,e){(function(t){"use strict";var s=t.MutationObserver||t.WebKitMutationObserver;e.test=function(){return s},e.install=function(e){var n=0,i=new s(e),r=t.document.createTextNode("");return i.observe(r,{characterData:!0}),function(){r.data=n=++n%2}}}).call(e,function(){return this}())},function(t,e){(function(t){"use strict";e.test=function(){return!t.setImmediate&&void 0!==t.MessageChannel},e.install=function(e){var s=new t.MessageChannel;return s.port1.onmessage=e,function(){s.port2.postMessage(0)}}}).call(e,function(){return this}())},function(t,e){(function(t){"use strict";e.test=function(){return"document"in t&&"onreadystatechange"in t.document.createElement("script")},e.install=function(e){return function(){var s=t.document.createElement("script");return s.onreadystatechange=function(){e(),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},t.document.documentElement.appendChild(s),e}}}).call(e,function(){return this}())},function(t,e){"use strict";e.test=function(){return!0},e.install=function(t){return function(){setTimeout(t,0)}}},function(t,e,s){"use strict";function n(t){var e,s,o,a=this;(t=t||{}).menu||i.error("menu is required"),i.isArray(t.datasets)||i.isObject(t.datasets)||i.error("1 or more datasets required"),t.datasets||i.error("datasets is required"),this.isOpen=!1,this.isEmpty=!0,this.minLength=t.minLength||0,this.templates={},this.appendTo=t.appendTo||!1,this.css=i.mixin({},u,t.appendTo?u.appendTo:{}),this.cssClasses=t.cssClasses=i.mixin({},u.defaultClasses,t.cssClasses||{}),this.cssClasses.prefix=t.cssClasses.formattedPrefix||i.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix),e=i.bind(this._onSuggestionClick,this),s=i.bind(this._onSuggestionMouseEnter,this),o=i.bind(this._onSuggestionMouseLeave,this);var c=i.className(this.cssClasses.prefix,this.cssClasses.suggestion);this.$menu=r.element(t.menu).on("mouseenter.aa",c,s).on("mouseleave.aa",c,o).on("click.aa",c,e),this.$container=t.appendTo?t.wrapper:this.$menu,t.templates&&t.templates.header&&(this.templates.header=i.templatify(t.templates.header),this.$menu.prepend(this.templates.header())),t.templates&&t.templates.empty&&(this.templates.empty=i.templatify(t.templates.empty),this.$empty=r.element('<div class="'+i.className(this.cssClasses.prefix,this.cssClasses.empty,!0)+'"></div>'),this.$menu.append(this.$empty),this.$empty.hide()),this.datasets=i.map(t.datasets,function(e){return s=a.$menu,r=e,o=t.cssClasses,new n.Dataset(i.mixin({$menu:s,cssClasses:o},r));var s,r,o}),i.each(this.datasets,function(t){var e=t.getRoot();e&&0===e.parent().length&&a.$menu.append(e),t.onSync("rendered",a._onRendered,a)}),t.templates&&t.templates.footer&&(this.templates.footer=i.templatify(t.templates.footer),this.$menu.append(this.templates.footer()));var h=this;r.element(window).resize(function(){h._redraw()})}var i=s(4),r=s(3),o=s(8),a=s(17),u=s(19);i.mixin(n.prototype,o,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",r.element(t.currentTarget))},_onSuggestionMouseEnter:function(t){var e=r.element(t.currentTarget);if(!e.hasClass(i.className(this.cssClasses.prefix,this.cssClasses.cursor,!0))){this._removeCursor();var s=this;setTimeout(function(){s._setCursor(e,!1)},0)}},_onSuggestionMouseLeave:function(t){t.relatedTarget&&r.element(t.relatedTarget).closest("."+i.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).length>0||(this._removeCursor(),this.trigger("cursorRemoved"))},_onRendered:function(t,e){if(this.isEmpty=i.every(this.datasets,function(t){return t.isEmpty()}),this.isEmpty)if(e.length>=this.minLength&&this.trigger("empty"),this.$empty)if(e.length<this.minLength)this._hide();else{var s=this.templates.empty({query:this.datasets[0]&&this.datasets[0].query});this.$empty.html(s),this.$empty.show(),this._show()}else i.any(this.datasets,function(t){return t.templates&&t.templates.empty})?e.length<this.minLength?this._hide():this._show():this._hide();else this.isOpen&&(this.$empty&&(this.$empty.empty(),this.$empty.hide()),e.length>=this.minLength?this._show():this._hide());this.trigger("datasetRendered")},_hide:function(){this.$container.hide()},_show:function(){this.$container.css("display","block"),this._redraw(),this.trigger("shown")},_redraw:function(){this.isOpen&&this.appendTo&&this.trigger("redrawn")},_getSuggestions:function(){return this.$menu.find(i.className(this.cssClasses.prefix,this.cssClasses.suggestion))},_getCursor:function(){return this.$menu.find(i.className(this.cssClasses.prefix,this.cssClasses.cursor)).first()},_setCursor:function(t,e){t.first().addClass(i.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).attr("aria-selected","true"),this.trigger("cursorMoved",e)},_removeCursor:function(){this._getCursor().removeClass(i.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).removeAttr("aria-selected")},_moveCursor:function(t){var e,s,n,i;if(this.isOpen){if(s=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),-1==(n=((n=e.index(s)+t)+1)%(e.length+1)-1))return void this.trigger("cursorRemoved");n<-1&&(n=e.length-1),this._setCursor(i=e.eq(n),!0),this._ensureVisible(i)}},_ensureVisible:function(t){var e,s,n,i;s=(e=t.position().top)+t.height()+parseInt(t.css("margin-top"),10)+parseInt(t.css("margin-bottom"),10),n=this.$menu.scrollTop(),i=this.$menu.height()+parseInt(this.$menu.css("padding-top"),10)+parseInt(this.$menu.css("padding-bottom"),10),e<0?this.$menu.scrollTop(n+e):i<s&&this.$menu.scrollTop(n+(s-i))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,this.isEmpty||this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?this.css.ltr:this.css.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:a.extractDatum(t),value:a.extractValue(t),datasetName:a.extractDatasetName(t)}),e},getCurrentCursor:function(){return this._getCursor().first()},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},cursorTopSuggestion:function(){this._setCursor(this._getSuggestions().first(),!1)},update:function(t){i.each(this.datasets,function(e){e.update(t)})},empty:function(){i.each(this.datasets,function(t){t.clear()}),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){this.$menu.off(".aa"),this.$menu=null,i.each(this.datasets,function(t){t.destroy()})}}),n.Dataset=a,t.exports=n},function(t,e,s){"use strict";function n(t){var e;(t=t||{}).templates=t.templates||{},t.source||a.error("missing source"),t.name&&(e=t.name,!/^[_a-zA-Z0-9-]+$/.test(e))&&a.error("invalid dataset name: "+t.name),this.query=null,this._isEmpty=!0,this.highlight=!!t.highlight,this.name=void 0===t.name||null===t.name?a.getUniqueId():t.name,this.source=t.source,this.displayFn=function(t){return t=t||"value",a.isFunction(t)?t:function(e){return e[t]}}(t.display||t.displayKey),this.debounce=t.debounce,this.templates=function(t,e){return{empty:t.empty&&a.templatify(t.empty),header:t.header&&a.templatify(t.header),footer:t.footer&&a.templatify(t.footer),suggestion:t.suggestion||function(t){return"<p>"+e(t)+"</p>"}}}(t.templates,this.displayFn),this.css=a.mixin({},h,t.appendTo?h.appendTo:{}),this.cssClasses=t.cssClasses=a.mixin({},h.defaultClasses,t.cssClasses||{}),this.cssClasses.prefix=t.cssClasses.formattedPrefix||a.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix);var s=a.className(this.cssClasses.prefix,this.cssClasses.dataset);this.$el=t.$menu&&t.$menu.find(s+"-"+this.name).length>0?u.element(t.$menu.find(s+"-"+this.name)[0]):u.element(c.dataset.replace("%CLASS%",this.name).replace("%PREFIX%",this.cssClasses.prefix).replace("%DATASET%",this.cssClasses.dataset)),this.$menu=t.$menu,this.clearCachedSuggestions()}var i="aaDataset",r="aaValue",o="aaDatum",a=s(4),u=s(3),c=s(18),h=s(19),l=s(8);n.extractDatasetName=function(t){return u.element(t).data(i)},n.extractValue=function(t){return u.element(t).data(r)},n.extractDatum=function(t){var e=u.element(t).data(o);return"string"==typeof e&&(e=JSON.parse(e)),e},a.mixin(n.prototype,l,{_render:function(t,e){function s(){var e=[].slice.call(arguments,0);return e=[{query:t,isEmpty:!h}].concat(e),l.templates.header.apply(this,e)}function n(){var e=[].slice.call(arguments,0);return e=[{query:t,isEmpty:!h}].concat(e),l.templates.footer.apply(this,e)}if(this.$el){var h,l=this,p=[].slice.call(arguments,2);this.$el.empty(),h=e&&e.length,this._isEmpty=!h,!h&&this.templates.empty?this.$el.html(function(){var e=[].slice.call(arguments,0);return e=[{query:t,isEmpty:!0}].concat(e),l.templates.empty.apply(this,e)}.apply(this,p)).prepend(l.templates.header?s.apply(this,p):null).append(l.templates.footer?n.apply(this,p):null):h&&this.$el.html(function(){var t,s,n=[].slice.call(arguments,0),h=this,p=c.suggestions.replace("%PREFIX%",this.cssClasses.prefix).replace("%SUGGESTIONS%",this.cssClasses.suggestions);return t=u.element(p).css(this.css.suggestions),s=a.map(e,function(t){var e,s=c.suggestion.replace("%PREFIX%",h.cssClasses.prefix).replace("%SUGGESTION%",h.cssClasses.suggestion);return(e=u.element(s).attr({role:"option",id:["option",Math.floor(1e8*Math.random())].join("-")}).append(l.templates.suggestion.apply(this,[t].concat(n)))).data(i,l.name),e.data(r,l.displayFn(t)||void 0),e.data(o,JSON.stringify(t)),e.children().each(function(){u.element(this).css(h.css.suggestionChild)}),e}),t.append.apply(t,s),t}.apply(this,p)).prepend(l.templates.header?s.apply(this,p):null).append(l.templates.footer?n.apply(this,p):null),this.$menu&&this.$menu.addClass(this.cssClasses.prefix+(h?"with":"without")+"-"+this.name).removeClass(this.cssClasses.prefix+(h?"without":"with")+"-"+this.name),this.trigger("rendered",t)}},getRoot:function(){return this.$el},update:function(t){function e(e){if(!this.canceled&&t===this.query){var s=[].slice.call(arguments,1);this.cacheSuggestions(t,e,s),this._render.apply(this,[t,e].concat(s))}}if(this.query=t,this.canceled=!1,this.shouldFetchFromCache(t))e.apply(this,[this.cachedSuggestions].concat(this.cachedRenderExtraArgs));else{var s=this,n=function(){s.source(t,e.bind(s))};if(this.debounce){var i=!this.debounceTimeout;clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(function(){s.debounceTimeout=null,n()},this.debounce),i&&n()}else n()}},cacheSuggestions:function(t,e,s){this.cachedQuery=t,this.cachedSuggestions=e,this.cachedRenderExtraArgs=s},shouldFetchFromCache:function(t){return this.cachedQuery===t&&this.cachedSuggestions&&this.cachedSuggestions.length},clearCachedSuggestions:function(){delete this.cachedQuery,delete this.cachedSuggestions,delete this.cachedRenderExtraArgs},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered","")},isEmpty:function(){return this._isEmpty},destroy:function(){this.clearCachedSuggestions(),this.$el=null}}),t.exports=n},function(t,e){"use strict";t.exports={wrapper:'<span class="%ROOT%"></span>',dropdown:'<span class="%PREFIX%%DROPDOWN_MENU%"></span>',dataset:'<div class="%PREFIX%%DATASET%-%CLASS%"></div>',suggestions:'<span class="%PREFIX%%SUGGESTIONS%"></span>',suggestion:'<div class="%PREFIX%%SUGGESTION%"></div>'}},function(t,e,s){"use strict";var n=s(4),i={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:"0"},defaultClasses:{root:"algolia-autocomplete",prefix:"aa",noPrefix:!1,dropdownMenu:"dropdown-menu",input:"input",hint:"hint",suggestions:"suggestions",suggestion:"suggestion",cursor:"cursor",dataset:"dataset",empty:"empty"},appendTo:{wrapper:{position:"absolute",zIndex:"100",display:"none"},input:{},inputWithNoHint:{},dropdown:{display:"block"}}};n.isMsie()&&n.mixin(i.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),n.isMsie()&&n.isMsie()<=7&&n.mixin(i.input,{marginTop:"-1px"}),t.exports=i},function(t,e,s){"use strict";t.exports={hits:s(21),popularIn:s(24)}},function(t,e,s){"use strict";var n=s(4),i=s(22),r=s(23);t.exports=function(t,e){var s=r(t.as._ua);return s&&s[0]>=3&&s[1]>20&&((e=e||{}).additionalUA="autocomplete.js "+i),function(s,i){t.search(s,e,function(t,e){t?n.error(t.message):i(e.hits,e)})}}},function(t,e){t.exports="0.30.0"},function(t,e){"use strict";t.exports=function(t){var e=t.match(/Algolia for vanilla JavaScript (\d+\.)(\d+\.)(\d+)/);if(e)return[e[1],e[2],e[3]]}},function(t,e,s){"use strict";var n=s(4),i=s(22),r=s(23);t.exports=function(t,e,s,o){var a=r(t.as._ua);if(a&&a[0]>=3&&a[1]>20&&((e=e||{}).additionalUA="autocomplete.js "+i),!s.source)return n.error("Missing 'source' key");var u=n.isFunction(s.source)?s.source:function(t){return t[s.source]};if(!s.index)return n.error("Missing 'index' key");var c=s.index;return o=o||{},function(a,h){t.search(a,e,function(t,a){if(t)n.error(t.message);else{if(a.hits.length>0){var l=a.hits[0],p=n.mixin({hitsPerPage:0},s);delete p.source,delete p.index;var d=r(c.as._ua);return d&&d[0]>=3&&d[1]>20&&(e.additionalUA="autocomplete.js "+i),void c.search(u(l),p,function(t,e){if(t)n.error(t.message);else{var s=[];if(o.includeAll){var i=o.allTitle||"All departments";s.push(n.mixin({facet:{value:i,count:e.nbHits}},n.cloneDeep(l)))}n.each(e.facets,function(t,e){n.each(t,function(t,i){s.push(n.mixin({facet:{facet:e,value:i,count:t}},n.cloneDeep(l)))})});for(var r=1;r<a.hits.length;++r)s.push(a.hits[r]);h(s,a)}})}h([])}})}}}]);